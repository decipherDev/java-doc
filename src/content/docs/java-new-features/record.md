---
title: Record classes
description: shallowly immutable, transparent carrier for a fixed set of values
---
_Introduced in java 14 as a preview feature, made official in Java 16_

> A record class is a shallowly immutable, transparent carrier for a fixed set of values, called the record components.

- record components are declared in record header. The list of record components declared in the record header form the record descriptor.
- record has a canonical constructor which is impicitly generated by the compiler.
- immutable class with constructors, accessors, equals, hashcode, and toString methods.
- Record classes are final by default and cannot be inherited but can implement interfaces.
- Each record component is private and final due to which values cannot be modified.
- Record classes unlike other classes are de-serialized by calling the constructor, thus all safety checks are executed.

```java
public record Shape(String name) {};
```

```java
record DbProperties(String driverName, String url) {
    DbProperties(String url) { 
      this("driverName", url);
   }
}
```

- getters and setters in record 

```java
Shape s = new Shape("circle");
System.out.println(s.name());
DbProperties prop = new DbProperties("localhost:54321");
System.out.println(prop.driverName());
System.out.prinln(prop.url());
DbProperties properties = new DbProperties("driverName", "url");
System.out.println(properties.driverName());
System.out.println(properties.url());
```

Output
```
circle
driverName
localhost:54321
driver
url
```

- In records compact constructors can be used to validate the parameters
- compact constructors in java is a special type of constructor for records that provides a concise way
to implement the canonical constructor with custom validation or initialization logic, while the compiler handles 
the field assignment
```java
record Person(String name, String address) {
    public Person {
        Objects.requireNonNull(name);
        Objects.requireNonNull(address);
    }
}
```

The above one is equivalent to the below `

```java
record Person(String name, String address) {
    public Person(String name, String address) { //explicit cannonical constructor
        Objects.requireNonNull(name);
        Objects.requireNonNull(address);
        this.name = name;
        this.address = address;
    }
}
```

- instance variable are not allowed in Record. Records are inherently immutable, non static variables are associated with individual instances of a class and 
can be modified due to this reason instance variable aren't supported in records.

```java
public record Transaction(String transactionId, int amount) {
  private Integer x = 1; //Not allowed
  private final String s = "txn"; //Not allowed
}
```

- static variables are allowed

```java
public record Transaction(String transactionId, int amount) {
  public static String CURRENCY = "USD";

  public static Transaction dummy(String amount) {
    return new Transaction("Dummy-id", 4010);
  }
}
```

- The constructor in record cannot be more restrictive than the record access level

```java
public record Transaction(String transactionId, int amount) {
  Transaction(String transactionId, int amount) { //Not allowed
    this.transactionId = transactionId;
    this.amount = amount;
  }
}
```
- The above code generates the following error in jshell  

```
  Error:
|  invalid canonical constructor in record Transaction
|    (attempting to assign stronger access privileges; was public)
|        Transaction(String transactionId, int amount) { //Not allowed
|        ^------------------------------------------------------------...
```

```java
record Transaction(String transactionId, int amount) {
  public Transaction(String transactionId, int amount) { // Allowed
    this.transactionId = transactionId;
    this.amount = amount;
  }
}
```

- Record cannot extend any class, including sealed classes, but can implement interfaces, including the sealed interfaces.

```java
class Base {}

record Sub() extends Base {} //will not compile
```

```java
interface Parent {}

record Sub() implements Parent {} //compiles
```

## Reference 
(JEP 395)[https://openjdk.java.net/jeps/395]